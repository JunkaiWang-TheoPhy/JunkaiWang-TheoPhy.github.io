<!doctype html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Timer Lab</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-blobs" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>

    <main class="page">
      <nav class="subnav" aria-label="页面切换">
        <button class="tab active" data-view="timer">
          <svg class="tab-icon" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="12" r="9" fill="#ffffff" stroke="#2d1a57" stroke-width="2" />
            <line x1="12" y1="12" x2="12" y2="7" stroke="#2d1a57" stroke-width="2" stroke-linecap="round" />
            <line x1="12" y1="12" x2="16" y2="14" stroke="#2d1a57" stroke-width="2" stroke-linecap="round" />
          </svg>
          <span>计时</span>
        </button>
        <button class="tab" data-view="stats">
          <svg class="tab-icon" viewBox="0 0 24 24" aria-hidden="true">
            <rect x="4" y="11" width="4" height="8" rx="2" fill="#ff85d6" />
            <rect x="10" y="7" width="4" height="12" rx="2" fill="#8d6bff" />
            <rect x="16" y="5" width="4" height="14" rx="2" fill="#6dd3ff" />
          </svg>
          <span>统计</span>
        </button>
      </nav>
      <section id="view-timer" class="view active">
        <header class="hero">
          <div class="mascot" aria-hidden="true">
            <svg viewBox="0 0 160 160" role="img">
              <defs>
                <linearGradient id="face" x1="0" x2="1" y1="0" y2="1">
                  <stop offset="0" stop-color="#ffe8ff" />
                  <stop offset="1" stop-color="#f3d1ff" />
                </linearGradient>
              </defs>
              <circle cx="80" cy="80" r="62" fill="url(#face)" stroke="#2f195a" stroke-width="4" />
              <circle cx="80" cy="80" r="50" fill="#ffffff" stroke="#2f195a" stroke-width="3" />
              <line x1="80" y1="80" x2="80" y2="48" stroke="#2f195a" stroke-linecap="round" stroke-width="6" />
              <line x1="80" y1="80" x2="105" y2="95" stroke="#2f195a" stroke-linecap="round" stroke-width="6" />
              <circle cx="60" cy="78" r="6" fill="#2f195a" />
              <circle cx="100" cy="78" r="6" fill="#2f195a" />
              <path d="M65 100 Q80 112 95 100" fill="none" stroke="#2f195a" stroke-linecap="round" stroke-width="5" />
              <circle cx="40" cy="42" r="10" fill="#7a66ff" />
              <circle cx="120" cy="42" r="10" fill="#7a66ff" />
            </svg>
          </div>
          <div class="hero-text">
            <p class="eyebrow">浏览器时间同步中</p>
            <h1>Timer Lab</h1>
            <p class="subtitle">并列管理多个任务，随时添加、编辑、重启你的计时卡。</p>
            <div class="time-chip">
              <span class="dot"></span>
              <span id="clock">--:--:--</span>
            </div>
          </div>
        </header>

        <section class="panel create-panel">
          <div class="panel-head">
            <h2>快速新建任务</h2>
            <p>所有任务保存在当前浏览器里。</p>
          </div>
          <form id="create-form" autocomplete="off">
            <label>
              <span>任务名称</span>
              <input id="task-title" type="text" placeholder="比如：写论文、健身、学法语" maxlength="60" />
            </label>
            <label>
              <span>栏目</span>
              <input id="task-category" type="text" placeholder="默认" maxlength="30" />
            </label>
            <label class="duration-field">
              <span>时长（分钟）</span>
              <div class="duration-input">
                <input id="task-minutes" type="number" min="1" max="1440" value="30" />
                <span>min</span>
              </div>
            </label>
            <div class="toggle-field">
              <span>创建后立即开始</span>
              <label class="toggle">
                <input id="task-autostart" type="checkbox" />
                <span class="toggle-ui"></span>
              </label>
            </div>
            <div class="quick-choices" id="quick-create">
              <button type="button" data-minutes="30">30m</button>
              <button type="button" data-minutes="45">45m</button>
              <button type="button" data-minutes="60">1h</button>
              <button type="button" data-minutes="90">1h30m</button>
            </div>
            <button class="btn primary" type="submit">添加任务</button>
          </form>
        </section>

        <section class="task-board">
          <div class="board-head">
            <h2>任务卡片</h2>
            <p class="hint">关掉网页后计时会继续，回来后自动按浏览器时间同步。</p>
          </div>
          <div id="task-list" class="task-grid"></div>
          <div id="empty-state" class="empty-state">
            <p>还没有任务，先添加一个吧！</p>
          </div>
        </section>
      </section>

      <section id="view-stats" class="view">
        <section class="panel stats-panel">
          <div class="panel-head">
            <h2>统计中心</h2>
            <p>按栏目统计累计时长，正在计时的任务也会实时统计。</p>
          </div>
          <div class="stats-controls">
            <div class="toggle-group" data-group="range">
              <button class="toggle-btn active" data-range="today">今天</button>
              <button class="toggle-btn" data-range="week">本周</button>
            </div>
            <div class="toggle-group" data-group="chart">
              <button class="toggle-btn active" data-chart="bar">柱状图</button>
              <button class="toggle-btn" data-chart="pie">饼图</button>
              <button class="toggle-btn" data-chart="line">折线图</button>
            </div>
          </div>
          <div class="stats-body">
            <div class="chart-card">
              <canvas id="chart-canvas" width="640" height="360"></canvas>
              <div id="chart-legend" class="chart-legend"></div>
            </div>
            <div class="summary-card">
              <h3>累计时长</h3>
              <div id="stats-list" class="stats-list"></div>
            </div>
          </div>
          <div id="line-filter" class="line-filter">
            <div class="line-filter-head">
              <h3>折线图项目</h3>
              <p>选择要对比的栏目</p>
            </div>
            <div id="line-options" class="line-options"></div>
          </div>
        </section>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
